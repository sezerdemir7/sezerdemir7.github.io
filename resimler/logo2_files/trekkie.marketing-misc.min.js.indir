!function(){"use strict";var e={372:function(e,t){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Integration=void 0;var o=function(){function e(e,t){this.options={},this.options=n(n({},e),t)}return e.flatten=function(e){var t=n({},e);return t.properties={},n(n({},t),e.properties)},e.isEqual=function(e,t){for(var n in e)if(e[n]!==t[n])return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0},e}();t.Integration=o},930:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.extractSchemaIdFromEventName=t.trekkieAssetContextSchemaId=t.storefrontAnalyticsSchemaId=t.deprecatedStorefrontAnalyticsSchemaId=t.appNameToEcommerceEventSchemaId=t.appNameToPageViewSchemaId=void 0,t.appNameToPageViewSchemaId={admin:"trekkie_admin_page_view/1.0",appstore:"trekkie_appstore_page_view/1.2",blog:"trekkie_blog_page_view/1.2",brochure:"trekkie_brochure_page_view/1.2",checkout:"trekkie_checkout_page_view/1.2","compass-web":"trekkie_compass_web_page_view/1.2",docs:"trekkie_docs_page_view/1.2",development:"edge_test/1.0",exchange:"trekkie_exchange_page_view/1.2",experts:"trekkie_experts_page_view/1.0",handshake:"trekkie_handshake_page_view/1.0",identity:"trekkie_identity_page_view/1.2",linkpop:"trekkie_linkpop_page_view/2.0","marketing-misc":"trekkie_marketing_misc_page_view/1.2",oberlo:"trekkie_oberlo_app_page_view/1.0","oberlo-home":"trekkie_oberlo_home_page_view/1.3","oberlo-courses":"trekkie_oberlo_courses_page_view/1.0",opinions:"trekkie_opinions_page_view/1.2",partners:"trekkie_partners_page_view/1.2","shopify-ping-web":"trekkie_shopify_ping_web_page_view/1.0",portal:"trekkie_portal_page_view/1.0",smiley:"trekkie_smiley_page_view/1.2",storefront:"trekkie_storefront_page_view/1.2",testing:"edge_test/1.0",themestore:"trekkie_themestore_page_view/1.2"},t.appNameToEcommerceEventSchemaId={storefront:"trekkie_storefront_ecommerce_event_emit/4.0",checkout:"trekkie_checkout_ecommerce_event_emit/4.0",test:"edge_test_ecommerce_event_emit/1.0"},t.deprecatedStorefrontAnalyticsSchemaId="storefront_customer_tracking/2.3",t.storefrontAnalyticsSchemaId="storefront_customer_tracking/4.1",t.trekkieAssetContextSchemaId="trekkie_asset_context/1.1",t.extractSchemaIdFromEventName=function(e){var t="monorail://",n=e.toLowerCase();if(0===n.lastIndexOf(t)&&n.length>t.length)return n.substr(t.length)}},793:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TrackingConsentEvents=void 0,(t.TrackingConsentEvents||(t.TrackingConsentEvents={})).TRACKING_ACCEPTED="trackingConsentAccepted"},291:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TrackingRegulations=void 0,(n=t.TrackingRegulations||(t.TrackingRegulations={})).GDPR="GDPR",n.CCPA="CCPA",n.NO_VALUE=""},542:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TrackingRegulations=t.TrackingConsentEvents=void 0;var o=n(793);Object.defineProperty(t,"TrackingConsentEvents",{enumerable:!0,get:function(){return o.TrackingConsentEvents}});var i=n(291);Object.defineProperty(t,"TrackingRegulations",{enumerable:!0,get:function(){return i.TrackingRegulations}})},831:function(e,t,n){var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Trekkie=void 0;var a=n(372),s=n(930),c=n(668),u=n(454),d=n(971),p=n(997),l=function(e){function t(t,n){var o=e.call(this,{},t)||this;return o.init(t,n),o}return i(t,e),t.prototype.isEssential=function(){return!0},t.prototype.init=function(e,t){var n="global";e.monorailRegion&&(n=e.monorailRegion),e.development&&(n="staging"),u.setMonorailRegion(n),e.defaultAttributes&&d.setMetricsOptions(e.defaultAttributes.shopId);var o=!1;e.isServerSideCookieWritingEnabled&&(o=e.isServerSideCookieWritingEnabled);var i=new c.UniqueIdManager(o);this.defaultAttributes={appName:e.appName,uniqToken:i.longTerm(),visitToken:i.shortTerm(),microSessionId:c.buildToken(),microSessionCount:0,isPersistentCookie:p.isPersistentCookie()},e.defaultAttributes&&(this.defaultAttributes=r(r({},e.defaultAttributes),this.defaultAttributes)),p.cleanupOverScopedCookies(),t()},t.prototype.identify=function(e){},t.prototype.page=function(e){var t=s.appNameToPageViewSchemaId[this.defaultAttributes.appName];this.emit("page",e,t)},t.prototype.track=function(e){var t=s.extractSchemaIdFromEventName(e.event);this.emit("track",e,t)},t.prototype.emit=function(e,t,n){++this.defaultAttributes.microSessionCount,t=a.Integration.flatten(t);var o=r(r({},t),this.defaultAttributes);o.eventType=e,n&&u.produce([{schemaId:n,payload:o}])},t}(a.Integration);t.Trekkie=l},997:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.privacyAPISubMethods=t.TrackingRegulationLimitations=t.ConsentValuesV2=t.CONSENT_COOKIE_NAME=t.resetCookieDomain=t.determineCookieDomain=t.cleanupOverScopedCookies=t.clear=t.write=t.isPersistentCookie=t.read=t.allowed=t.enabled=t.isGDPREnforced=t.isCCPAEnforced=t.privacyApiMethods=t.cleanupMyShopifyDotComCookie=t.cookieImpl=t.parseDocumentCookie=void 0;var o,i,r,a,s=n(503),c=n(542),u=n(725),d=n(102),p="myshopify.com",l=[p,"spin.dev"],v="_shopify_d",f=new Date(0);function g(e){for(var t={},n=0,o=e.split(/ *; */);n<o.length;n++){var i=o[n].split("=");try{t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]||"")}catch(e){}}return t}function h(){if(void 0===o)if(function(){for(var e=0,t=l;e<t.length;e++)if(k(t[e]))return!0;return!1}())o=u.hostname();else{for(var e="",n=0,i=u.hostname().split(".").reverse();n<i.length;n++){var r=i[n];e=""===e?"."+r:"."+r+e;var a=d.generateShopifyDValue();if(m(v,a,0,e),s=v,c=a,p=void 0,(p=t.cookieImpl.read(s))&&p===c)return m(v,a,-1,e),void(o=e)}o=""}var s,c,p}function m(e,n,o,i,r){void 0===r&&(r="Lax");var a={domain:i,path:"/",maxage:o,samesite:r};t.cookieImpl.write(e,n,a)}function k(e){var t=u.hostname().split(".").reverse(),n=e.split(".").reverse();return t[0]===n[0]&&t[1]===n[1]}function y(){return k(p)}t.parseDocumentCookie=g,t.cookieImpl={parse:g,read:function(e){if(t.cookieImpl.enabled())return t.cookieImpl.parse(s.virtualDocument().cookie())[e]},write:function(e,n,o){if(void 0===o&&(o={}),t.cookieImpl.enabled()&&t.cookieImpl.allowed()&&(t.cookieImpl.hasConsent()||!t.cookieImpl.hasGdprBlockAllPreference())){var i=encodeURIComponent(e)+"="+encodeURIComponent(n);o.maxage&&(o.maxage<0?o.expires=f:o.expires=new Date((new Date).getTime()+o.maxage)),o.path&&(i+="; path="+o.path),o.domain&&(i+="; domain="+o.domain),o.expires&&t.cookieImpl.hasConsent()&&(i+="; expires="+o.expires.toUTCString()),o.samesite?i+="; SameSite="+o.samesite:i+="; SameSite=Lax",o.secure&&(i+="; secure"),s.virtualDocument().setCookie(i)}},enabled:function(e){if(void 0===e&&(e=!1),!e&&void 0!==i)return i;try{if(void 0===s.virtualDocument().cookie())return!1;var t="cookietest";s.virtualDocument().setCookie(t+"=1; SameSite=Lax");var n=-1!==s.virtualDocument().cookie().indexOf(t+"=");return s.virtualDocument().setCookie(t+"=1; expires=Thu, 01-Jan-1970 00:00:01 GMT; SameSite=Lax"),n&&(i=n),n}catch(e){return!1}},allowed:function(){var e=t.cookieImpl.read("_cookie_consent");if(e)try{var n=JSON.parse(e);if(n&&"non_essential"===n.block)return!1}catch(e){return!0}return!0},hasConsent:function(){return t.privacyApiMethods.userCanBeTracked()},hasGdprBlockAllPreference:function(){return t.privacyApiMethods.isGdprBlockAllEnforced()},isPersistentCookie:function(){var e=t.cookieImpl.read("_shopify_m");return void 0===e||"persistent"===e},readConsentCookie:function(){try{var e=t.cookieImpl.read("_tracking_consent");if(void 0===e)return;var n=JSON.parse(e);if(function(e){var t=Object.keys(e),n=["lim","v","con","reg"].slice().sort();return!(t.length===n.length&&t.slice().sort().every((function(e,t){return e===n[t]})))}(n))return;return n}catch(e){return}}},t.cleanupMyShopifyDotComCookie=function(e){if(y()){var t=e+"=; path=/; max-age=0; expires=Thu, 01 Jan 1970 00:00:01 GMT; SameSite=Lax";s.virtualDocument().setCookie(t)}},t.privacyApiMethods={userCanBeTracked:function(){return t.privacyAPISubMethods.haveConsentToTrack()},userCannotBeTracked:function(){return!t.privacyApiMethods.userCanBeTracked()},hasCustomerPrivacyAPI:function(){return t.privacyAPISubMethods.hasConsentCookie()},userDataCanBeSold:function(){return t.privacyAPISubMethods.haveConsentToSellData()},userDataCannotBeSold:function(){return!t.privacyApiMethods.userDataCanBeSold()},getRegulation:function(){return t.privacyAPISubMethods.currentRegulation()},isGdprBlockAllEnforced:function(){var e=t.cookieImpl.readConsentCookie();return void 0!==e&&e.lim.includes(a.GDPR_BLOCK_ALL)}},t.isCCPAEnforced=function(){return t.privacyApiMethods.getRegulation()===c.TrackingRegulations.CCPA&&!0===t.privacyApiMethods.userDataCannotBeSold()},t.isGDPREnforced=function(){return t.privacyApiMethods.getRegulation()===c.TrackingRegulations.GDPR&&!0===t.privacyApiMethods.userCannotBeTracked()},t.enabled=function(){return t.cookieImpl.enabled()},t.allowed=function(){return t.cookieImpl.allowed()},t.read=function(e){return t.cookieImpl.read(e)},t.isPersistentCookie=function(){return t.cookieImpl.isPersistentCookie()},t.write=function(e,t,n,i){void 0===i&&(i="Lax"),h(),m(e,t,n?31104e6:18e5,o,i)},t.clear=function(e){h(),m(e,"",-1,o),m(e,"",-1,"")},t.cleanupOverScopedCookies=function(){if(y())for(var e=0,t=["_s","_shopify_s","_shopify_sa_p","_shopify_sa_t","_shopify_y","_y"];e<t.length;e++){var n=t[e]+"=; domain=.myshopify.com; path=/; max-age=0; expires=Thu, 01 Jan 1970 00:00:01 GMT; SameSite=Lax";s.virtualDocument().setCookie(n)}},t.determineCookieDomain=h,t.resetCookieDomain=function(){o=void 0},t.CONSENT_COOKIE_NAME="_tracking_consent",function(e){e.NO_VALUE="",e.ACCEPTED="1",e.DECLINED="0"}(r=t.ConsentValuesV2||(t.ConsentValuesV2={})),function(e){e.GDPR_BLOCK_ALL="GDPR_BLOCK_ALL",e.CCPA_BLOCK_ALL="CCPA_BLOCK_ALL",e.GDPR="GDPR",e.CCPA="CCPA"}(a=t.TrackingRegulationLimitations||(t.TrackingRegulationLimitations={})),t.privacyAPISubMethods={hasConsentCookie:function(){return void 0!==t.cookieImpl.readConsentCookie()},haveConsentToTrack:function(){var e=t.cookieImpl.readConsentCookie();if(void 0===e)return!0;if(!e.lim.includes(a.GDPR)&&!e.lim.includes(a.GDPR_BLOCK_ALL))return!0;var n=e.con.GDPR,o=e.reg;return n!==r.DECLINED&&(n!==r.NO_VALUE||o!==c.TrackingRegulations.GDPR)},haveConsentToSellData:function(){var e=t.cookieImpl.readConsentCookie();if(void 0===e)return!0;if(e.lim.includes(a.CCPA_BLOCK_ALL))return e.reg!==c.TrackingRegulations.CCPA;var n=e.con.CCPA;return!e.lim.includes(a.CCPA)||n!==r.DECLINED},currentRegulation:function(){var e=t.cookieImpl.readConsentCookie();return void 0===e?c.TrackingRegulations.NO_VALUE:e.reg}}},725:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isShopifyDotCom=t.search=t.protocol=t.port=t.pathname=t.origin=t.setHref=t.href=t.hostname=t.host=t.hash=void 0;var o=n(0);function i(){return o.virtualWindow().location().hostname}t.hash=function(){return o.virtualWindow().location().hash},t.host=function(){return o.virtualWindow().location().host},t.hostname=i,t.href=function(){return o.virtualWindow().location().href},t.setHref=function(e){o.virtualWindow().location().href=e},t.origin=function(){var e=o.virtualWindow().location();return e.origin?e.origin:e.protocol+"//"+e.hostname+(e.port?":"+e.port:"")},t.pathname=function(){return o.virtualWindow().location().pathname},t.port=function(){return o.virtualWindow().location().port},t.protocol=function(){return o.virtualWindow().location().protocol},t.search=function(){return o.virtualWindow().location().search},t.isShopifyDotCom=function(e){return null!==(e=e||i()).match(/(^|\.)shopify\.com$/)}},971:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sendToBugsnag=t.sendBugsnagXhr=t.shouldSendToBugsnag=t.reportError=t.logMetricToMonorail=t.setMetricsOptions=t.setGlobalSerializedAppConfig=t.errorsSchemaId=t.metricsSchemaId=void 0;var o,i,r=n(0),a=n(454),s=n(725);t.metricsSchemaId="trekkie_metrics/2.0",t.errorsSchemaId="trekkie_errors/2.0";var c=new Set(["Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:63.0) Gecko/20100101 Firefox/63.0","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.140 Safari/537.36 Edge/17.17134"]);t.setGlobalSerializedAppConfig=function(e){o=e},t.setMetricsOptions=function(e){i=e},t.logMetricToMonorail=function(e,n){var o={metric_name:e};i&&(o.shop_id=i),n&&(o.metadata=n),a.produce([{schemaId:t.metricsSchemaId,payload:o}])},t.reportError=function(e,n,u){var d={name:n.name,line:n.lineNumber||n.line,script:n.fileName||n.sourceURL||n.script,stack:n.stackTrace||n.stack||n.description,message:n.message,url:s.href(),context:void 0!==e?e:null,appConfig:o||null,notes:u};if(this.sendToBugsnag(d),!c.has(r.virtualWindow().userAgent())){var p={error_name:"reportError_"+e};i&&(p.shop_id=i),a.produce([{schemaId:t.errorsSchemaId,payload:p}])}},t.shouldSendToBugsnag=function(){return 100*Math.random()<2.5},t.sendBugsnagXhr=function(e,t,n,o,i,r,a,s){try{var c=new XMLHttpRequest;c.open("POST","https://notify.bugsnag.com/",!0),c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("Bugsnag-Api-Key","acd98d4f5c3b14bef3d8703f0ae1d8e8"),c.setRequestHeader("Bugsnag-Payload-Version","5"),c.send(JSON.stringify({payloadVersion:5,notifier:{name:"Trekkie",version:e,url:"-"},events:[{exceptions:[{errorClass:t,stacktrace:[n],type:"browserjs"}],context:o,app:{releaseStage:"production",version:e,id:"trekkie"},metaData:{app:{s2sSource:i},request:{shopId:r,shopUrl:window.location.href},device:{userAgent:window.navigator.userAgent},"Additional Notes":{appConfig:a,notes:s}},unhandled:!1}]}))}catch(e){}},t.sendToBugsnag=function(e){var t;if(this.shouldSendToBugsnag()){var n="9808f461ba330c75be6d9f9a258d7e208b18f128",o=null,i=null,r=null;if(e.appConfig)try{var a=JSON.parse(e.appConfig);a&&(o=a.Trekkie.appName,i=null===(t=a.S2S)||void 0===t?void 0:t.source,r=a.Trekkie.defaultAttributes.shopId)}catch(e){}var s=e.context?e.context:i,c={file:o?"checkout"===o?"trekkie.storefront."+n+".min.js":"trekkie."+o+"."+n+".min.js":"trekkie."+n+".min.js",lineNumber:"1",columnNumber:"1",method:e.context},u=e.context;if(e.stack){u=e.stack.split("\n")[0];var d=e.stack.match(/([0-9]+):([0-9]+)/);if(d&&d.length>2&&(c.lineNumber=d[1],c.columnNumber=d[2],parseInt(c.lineNumber,10)>1e5))return}this.sendBugsnagXhr(n,u,c,s,i,r,e.appConfig,e.notes)}}},454:function(e,t){var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,i++)o[i]=r[a];return o};Object.defineProperty(t,"__esModule",{value:!0}),t.isSendBeaconAndBlobSupported=t.produce=t.flushBatchEvents=t.getBatchEvents=t.addBatchEvent=t.setMonorailRegion=t.batchEndpoints=void 0,t.batchEndpoints={global:{url:"https://monorail-edge.shopifysvc.com/unstable/produce_batch"},staging:{url:"https://monorail-edge-staging.shopifycloud.com/unstable/produce_batch"},canada:{url:"https://monorail-edge-ca.shopifycloud.com/unstable/produce_batch"}};var o=t.batchEndpoints.global,i=new Array;function r(e,t){if(a())try{var n=new window.Blob([t],{type:"text/plain"});if(window.navigator.sendBeacon.bind(window.navigator)(e,n))return!0}catch(e){}var o=new XMLHttpRequest;try{o.open("POST",e,!0),o.setRequestHeader("Content-Type","text/plain"),o.send(t)}catch(e){console.log(e)}return!1}function a(){return window&&window.navigator&&"function"==typeof window.navigator.sendBeacon&&"function"==typeof window.Blob&&!(-1!==window.navigator.userAgent.lastIndexOf("iPhone; CPU iPhone OS 12_")||-1!==window.navigator.userAgent.lastIndexOf("iPad; CPU OS 12_"))}t.setMonorailRegion=function(e){t.batchEndpoints.hasOwnProperty(e)&&(o=t.batchEndpoints[e])},t.addBatchEvent=function(e){var t=(new Date).getTime(),n={schema_id:e.schemaId,payload:e.payload,metadata:{event_created_at_ms:t}};i.push(n)},t.getBatchEvents=function(){return i},t.flushBatchEvents=function(){var e=n(i);i.length=0,function(e){if(0!==e.length){var t={event_sent_at_ms:(new Date).getTime()},n={};n.metadata=t,n.events=e,r(o.url,JSON.stringify(n))}}(e)},t.produce=function(e){if(0!==e.length){var t=(new Date).getTime(),n={event_sent_at_ms:t},i={};i.metadata=n,i.events=[];for(var a=0,s=e;a<s.length;a++){var c=s[a];i.events.push({schema_id:c.schemaId,payload:c.payload,metadata:{event_created_at_ms:t}})}return r(o.url,JSON.stringify(i))}},t.isSendBeaconAndBlobSupported=a},336:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getNavigationTypeLegacy=t.getNavigationTypeExperimental=void 0;var o=n(971);t.getNavigationTypeExperimental=function(){try{var e=(null===performance||void 0===performance?void 0:performance.getEntriesByType)&&(null===performance||void 0===performance?void 0:performance.getEntriesByType("navigation"));if(e&&e[0]){var t=performance.getEntriesByType("navigation")[0].type;return t&&t.toString()}}catch(e){o.reportError("PerformanceNavigationTiming_Error",e)}},t.getNavigationTypeLegacy=function(){var e,t;try{if(PerformanceNavigation&&null!==(null===(e=null===performance||void 0===performance?void 0:performance.navigation)||void 0===e?void 0:e.type)&&void 0!==(null===(t=null===performance||void 0===performance?void 0:performance.navigation)||void 0===t?void 0:t.type)){var n=performance.navigation.type;switch(n){case PerformanceNavigation.TYPE_NAVIGATE:return"navigate";case PerformanceNavigation.TYPE_RELOAD:return"reload";case PerformanceNavigation.TYPE_BACK_FORWARD:return"back_forward";default:return"unknown: "+n}}}catch(e){o.reportError("Performance.Navigation_Error",e)}}},668:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.hexTime=t.buildToken=t.UniqueIdManager=t.longTermKey=t.deprecatedLongTermKey=t.shortTermKey=t.deprecatedShortTermKey=void 0;var o=n(0),i=n(997),r=n(971);t.deprecatedShortTermKey="_s",t.shortTermKey="_shopify_s",t.deprecatedLongTermKey="_y",t.longTermKey="_shopify_y";var a="xxxx-4xxx-xxxx-xxxxxxxxxxxx",s=function(){function e(e){this.isServerSideCookieWritingEnabled=e}return e.prototype.fetchOrSet=function(e,t,n,o){if(!i.enabled())return"00000000-0000-0000-4000-000000000000";var a=i.read(n)||i.read(t),s=!o;a||(a=c(),s=!0,o&&r.logMetricToMonorail("serverSideCookieNotSet_"+n)),s&&(i.write(t,a,e),i.write(n,a,e));var u=i.read(n)||i.read(t);return void 0===u?"00000000-0000-0000-5000-000000000000":u},e.prototype.shortTerm=function(){return this.fetchOrSet(!1,t.deprecatedShortTermKey,t.shortTermKey,!1)},e.prototype.longTerm=function(){return this.fetchOrSet(!0,t.deprecatedLongTermKey,t.longTermKey,this.isServerSideCookieWritingEnabled)},e}();function c(){var e="";try{var t=o.virtualWindow().crypto(),n=new Uint16Array(31);t.getRandomValues(n);var i=0;e=a.replace(/[x]/g,(function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var r=n[i]%16,a="x"===e?r:3&r|8;return i++,a.toString(16)})).toUpperCase()}catch(t){e=a.replace(/[x]/g,(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=16*Math.random()|0,i="x"===e?o:3&o|8;return i.toString(16)})).toUpperCase()}return u()+"-"+e}function u(){var e,t=0;e=(new Date).getTime()>>>0;try{t=performance.now()>>>0}catch(e){t=0}var n=Math.abs(e+t).toString(16).toLowerCase();return"00000000".substr(0,8-n.length)+n}t.UniqueIdManager=s,t.buildToken=c,t.hexTime=u},102:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.canonical=t.generateShopifyDValue=t.objectAssignFilterUndefined=void 0;var o=n(503),i=/^https?:\/\//;t.objectAssignFilterUndefined=function(e,t){for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e},t.generateShopifyDValue=function(){return(new Date).toJSON()},t.canonical=function(){for(var e=o.virtualDocument().getElementsByTagName("link"),t=0;t<e.length;t++){var n=e[t];if("canonical"===n.getAttribute("rel")){var r=n.getAttribute("href");if(!i.test(r))continue;if(r.replace(i,"").length<=5)continue;return r}}return""}},590:function(e,t,n){var o=n(426),i=n(971);try{var r=window.analytics.config;if(r){i.setGlobalSerializedAppConfig(JSON.stringify(r));var a=window.analytics,s=window.trekkie=new o.Tricorder([],r,(function(){window.analytics=s,window._visit={tag:function(){},multitrackToken:function(){return s.trekkie.defaultAttributes.uniqToken}},s.user=function(){return{traits:function(){return{uniqToken:s.trekkie.defaultAttributes.uniqToken}}}},o.replayAnalyticsQueue(s,a)}))}}catch(e){i.reportError("index",e)}},426:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.replayAnalyticsQueue=t.Tricorder=void 0;var o=n(831),i=n(503),r=n(725),a=n(454),s=n(793),c=n(997),u=n(971),d=n(668),p=n(930),l=n(336),v=n(102),f=function(){function e(e,t,n){var o,i,r=this;if(this.integrations=[],this.eventNameToEventIdMapping=new Map,this.allIntegrationsHaveLoaded=!1,this.config=t,this.navigationInfo=this.getNavigationType(),u.logMetricToMonorail("navigation-"+(null===(o=this.navigationInfo)||void 0===o?void 0:o.navigationApi)+"-"+(null===(i=this.navigationInfo)||void 0===i?void 0:i.navigationType)),this.logAssetContext(t),this.gdprAnalyticsBlocked()){var c=function(){r.initialize(e,t,n),document.removeEventListener(s.TrackingConsentEvents.TRACKING_ACCEPTED,c)};document.addEventListener(s.TrackingConsentEvents.TRACKING_ACCEPTED,c),a.flushBatchEvents()}else this.initialize(e,t,n)}return e.prototype.gdprAnalyticsBlocked=function(){return this.config.Trekkie.suppressAnalyticsWhenGdprEnforced&&c.privacyApiMethods.hasCustomerPrivacyAPI()&&c.privacyApiMethods.isGdprBlockAllEnforced()&&c.privacyApiMethods.userCannotBeTracked()},e.prototype.logAssetContext=function(e){var t,n,o,i;a.addBatchEvent({schemaId:p.trekkieAssetContextSchemaId,payload:{build_id:"9808f461ba330c75be6d9f9a258d7e208b18f128",page_url:window.location.href,app_name:null===(t=e.Trekkie)||void 0===t?void 0:t.appName,shop_id:null===(o=null===(n=e.Trekkie)||void 0===n?void 0:n.defaultAttributes)||void 0===o?void 0:o.shopId,monorail_region:(null===(i=e.Trekkie)||void 0===i?void 0:i.monorailRegion)||"not_set"}})},e.prototype.getNavigationType=function(){try{var e="PerformanceNavigationTiming",t=l.getNavigationTypeExperimental();return t||(t=l.getNavigationTypeLegacy(),e="performance.navigation"),t?{navigationType:t,navigationApi:e}:{navigationType:"unknown",navigationApi:"unknown"}}catch(e){u.reportError("navigation_api_error",e)}return{navigationType:"error",navigationApi:"error"}},e.prototype.initialize=function(e,t,n){var i=this;this.trekkie=new o.Trekkie(t.Trekkie,(function(){setTimeout((function(){i.loadIntegrations(e,t,i.trekkie,n)}),0)})),this.integrations[0]!==this.trekkie&&this.integrations.unshift(this.trekkie),this.setupEventIdMapping()},e.prototype.setupEventIdMapping=function(){var e;try{if(this.config.initialDocumentCookie){var t=c.parseDocumentCookie(this.config.initialDocumentCookie)._shopify_evids;if((null===(e=this.config.Trekkie)||void 0===e?void 0:e.expectS2SEventId)&&t)if(window.ShopifyAnalytics&&window.ShopifyAnalytics.meta&&window.ShopifyAnalytics.meta.evids)for(var n=0,o=t.split(";");n<o.length;n++){var i=o[n];try{var r=i.split("=");if(2!==r.length){u.logMetricToMonorail("error_event_id_token_length",i);continue}var a=r[0],s=r[1];window.ShopifyAnalytics.meta.evids[a]?this.eventNameToEventIdMapping.set(window.ShopifyAnalytics.meta.evids[a],s):u.logMetricToMonorail("error_event_id_cookie_key_not_found")}catch(e){u.logMetricToMonorail("error_event_id_token_parsing"),u.reportError("event_id_token_parsing",e)}}else u.logMetricToMonorail("error_meta_evid_not_found")}else u.logMetricToMonorail("error_initial_document_cookie_not_found");c.clear("_shopify_evids")}catch(e){u.logMetricToMonorail("error_event_id_map_parsing"),u.reportError("event_id_map_parsing",e)}},e.prototype.getS2SEventId=function(e,t){var n,o,i,r,a,s,c;void 0===e&&(e=void 0),void 0===t&&(t=void 0);var u={expectS2SEventId:(null===(n=this.config.Trekkie)||void 0===n?void 0:n.expectS2SEventId)||!1,expectS2SEventEmit:(null===(o=this.config.Trekkie)||void 0===o?void 0:o.expectS2SEventEmit)||!1,s2sEventId:null,s2sEventIdSource:null,navigationApi:this.navigationInfo.navigationApi,navigationType:this.navigationInfo.navigationType},p=d.buildToken();return u.expectS2SEventId&&(e&&this.eventNameToEventIdMapping.has(e)?(u.s2sEventId=this.eventNameToEventIdMapping.get(e),u.s2sEventIdSource="cookie"):t?(u.s2sEventId=t,u.s2sEventIdSource="parameter"):"Added Product"!==e&&("trekkie-checkout-one"!==(null===(r=null===(i=this.config)||void 0===i?void 0:i.S2S)||void 0===r?void 0:r.source)||"Page View"!==e&&"Added Payment"!==e)||(u.s2sEventId=p,u.s2sEventIdSource="trekkie")),{s2sMetadata:u,eventId:(null===(a=this.config.Trekkie)||void 0===a?void 0:a.useS2SEventId)&&(null===(s=this.config.Trekkie)||void 0===s?void 0:s.expectS2SEventId)&&(null===(c=this.config.Trekkie)||void 0===c?void 0:c.expectS2SEventEmit)?u.s2sEventId:p}},e.prototype.loadIntegrations=function(e,t,n,o){for(var i=this,r=this.waitFor(e.length,(function(){try{o()}catch(e){u.reportError("readyCallback",e)}i.allIntegrationsHaveLoaded=!0,i.flushMonorailEventsIfLoaded()})),a=0,s=e;a<s.length;a++){var c=s[a];try{var d=t[c[0]];if(d&&"object"==typeof d){var p=new(0,c[1])(d,n,r);this.integrations.push(p)}else r()}catch(e){r(),u.reportError("loadIntegration",e)}}},e.prototype.identify=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t={});var o=this.getS2SEventId(void 0,n);e instanceof Object&&(t=e,e="");for(var i=0,r=this.integrations;i<r.length;i++){var a=r[i];try{a.identify({id:e,properties:t,eventId:o.eventId,s2sMetadata:o.s2sMetadata})}catch(e){u.reportError("identify",e)}}this.flushMonorailEventsIfLoaded()},e.prototype.canEmitEvent=function(e){return!c.privacyApiMethods.hasCustomerPrivacyAPI()||e.isEssential()||c.privacyApiMethods.userCanBeTracked()},e.prototype.page=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t={});var o=this.getS2SEventId("Page View",n);e instanceof Object&&(t=e,e="");for(var i=this.generatePageObject(e,t,o.eventId,o.s2sMetadata),r=function(e){try{if(a.canEmitEvent(e))e.page(i);else{var t=function(){e.page(i),document.removeEventListener(s.TrackingConsentEvents.TRACKING_ACCEPTED,t)};document.addEventListener(s.TrackingConsentEvents.TRACKING_ACCEPTED,t)}}catch(e){u.reportError("page",e)}},a=this,c=0,d=this.integrations;c<d.length;c++)r(d[c]);return this.flushMonorailEventsIfLoaded(),o.eventId},e.prototype.track=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t={});var o=this.getS2SEventId(e,n);e instanceof Object&&(t=e,e="");for(var i={event:e,properties:t,eventId:o.eventId,s2sMetadata:o.s2sMetadata},r=function(e){try{if(a.canEmitEvent(e))e.track(i);else{var t=function(){e.track(i),document.removeEventListener(s.TrackingConsentEvents.TRACKING_ACCEPTED,t)};document.addEventListener(s.TrackingConsentEvents.TRACKING_ACCEPTED,t)}}catch(e){u.reportError("track",e)}},a=this,c=0,d=this.integrations;c<d.length;c++)r(d[c]);return this.flushMonorailEventsIfLoaded(),o.eventId},e.prototype.flushMonorailEventsIfLoaded=function(){this.allIntegrationsHaveLoaded&&a.flushBatchEvents()},e.prototype.ready=function(e){try{e()}catch(e){u.reportError("ready",e)}},e.prototype.waitFor=function(e,t){return 0===e?(setTimeout(t,0),function(){}):function(){0==--e&&setTimeout(t,0)}},e.prototype.generatePageObject=function(e,t,n,o){var a=r.href(),s=a.indexOf("?");return s=(a=-1===s?"":a.slice(s)).indexOf("#"),a="?"===(a=-1===s?a:a.slice(0,s))?"":a,{name:e,referrer:i.virtualDocument().referrer(),path:r.pathname(),search:a,title:i.virtualDocument().title(),url:this.url(),properties:t,eventId:n,s2sMetadata:o}},e.prototype.url=function(){var e=v.canonical();if(e)return e.indexOf("?")>0?e:e+r.search();var t=r.href(),n=t.indexOf("#");return-1===n?t:t.slice(0,n)},e}();t.Tricorder=f,t.replayAnalyticsQueue=function(e,t){for(var n=0,o=t;n<o.length;n++)e[s=(a=o[n])[0]]===e.ready&&e[s].apply(e,a.slice(1));for(var i=0,r=t;i<r.length;i++){var a,s;e[s=(a=r[i])[0]]&&e[s]!==e.ready&&e[s].apply(e,a.slice(1))}}},503:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.virtualDocument=void 0;var n=new(function(){function e(){}return e.prototype.cookie=function(){return document.cookie},e.prototype.setCookie=function(e){document.cookie=e},e.prototype.body=function(){return document.body},e.prototype.referrer=function(){return document.referrer},e.prototype.title=function(){return document.title},e.prototype.createElement=function(e){return document.createElement(e)},e.prototype.dispatchEvent=function(e){return document.dispatchEvent(e)},e.prototype.querySelector=function(e){return document.querySelector(e)},e.prototype.querySelectorAll=function(e){return document.querySelectorAll(e)},e.prototype.documentElement=function(){return document.documentElement},e.prototype.getElementsByTagName=function(e){return document.getElementsByTagName(e)},e.prototype.createCustomEvent=function(e,t){try{return new CustomEvent(e,t)}catch(o){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}},e}());t.virtualDocument=function(){return n}},0:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.virtualWindow=void 0;var n=new(function(){function e(e){this.nativeWindow=e}return e.prototype.location=function(){return this.nativeWindow.location},e.prototype.userAgent=function(){return this.nativeWindow.navigator.userAgent},e.prototype.crypto=function(){return this.nativeWindow.crypto||this.nativeWindow.msCrypto},e.prototype.top=function(){return this.nativeWindow.top?new e(this.nativeWindow.top):void 0},e.prototype.parent=function(){return this.nativeWindow.parent?new e(this.nativeWindow.parent):void 0},e.prototype.postMessage=function(e,t,n){this.nativeWindow.postMessage(e,t,n)},e.prototype.addEventListener=function(e,t,n){this.nativeWindow.addEventListener(e,t,n)},e.prototype.onload=function(){throw new Error("Do not use window.onload due to compatibility reasons. Use addEventListener instead of window.onload")},e}())(window);t.virtualWindow=function(){return n}}},t={};!function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}(590)}();